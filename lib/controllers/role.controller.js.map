{"version":3,"file":"role.controller.js","names":["_models","_interopRequireDefault","require","getRoles","req","res","data","db","Role","findAll","attributes","status","json","mensaje","success","error","exports","createRole","role_name","role_description","body","rol","create","getRole","findByPk","params","id","updateRole","update","where","role_id","deleteRole","destroy"],"sources":["../../src/controllers/role.controller.js"],"sourcesContent":["import db from '../database/models';\r\n\r\nexport const getRoles = async (req, res) => {\r\n  try {\r\n    const data = await db.Role.findAll({\r\n      attributes: ['role_name', 'role_description']\r\n    });\r\n    res.status(200).json({ data, mensaje: 'Operación realizada con exito', success: true });\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al consultar los datos', success: false });\r\n  }\r\n}\r\n\r\nexport const createRole = async (req, res) => {\r\n  try {\r\n    const { role_name, role_description } = req.body;\r\n    const rol = await db.Role.create({ role_name, role_description });\r\n    if (rol) {\r\n      res.status(201).json({ data: rol, mensaje: 'Rol agregado con exito', success: true });\r\n    } else {\r\n      res.status(400).json({ mensaje: 'Ocurrio un error al crear el rol', success: false });\r\n    }\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al crear el rol', success: false });\r\n  }\r\n}\r\n\r\nexport const getRole = async (req, res) => {\r\n  try {\r\n    const rol = await db.Role.findByPk(req.params.id, {\r\n      attributes: ['role_name', 'role_description']\r\n    });\r\n    if (rol) {\r\n      res.status(200).json({ data: rol, mensaje: 'Operación realizada con exito', success: true });\r\n    } else {\r\n      res.status(400).json({ mensaje: 'Rol no encontrado', success: false });\r\n    }\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al consultar los datos', success: false });\r\n  }\r\n}\r\n\r\nexport const updateRole = async (req, res) => {\r\n  try {\r\n    const rol = await db.Role.update(req.body, { where: { role_id: req.params.id } });\r\n    if (rol[0]) {\r\n      res.status(200).json({ mensaje: 'Rol actualizado con exito', success: true });\r\n    } else {\r\n      res.status(400).json({ mensaje: 'No existe el rol', success: false });\r\n    }\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al actualizar los datos', success: false });\r\n  }\r\n}\r\n\r\nexport const deleteRole = async (req, res) => {\r\n  try {\r\n    const rol = await db.Role.destroy({ where: { role_id: req.params.id } });\r\n    if (rol) {\r\n      res.status(200).json({ mensaje: 'Rol eliminado con exito', success: true });\r\n    } else {\r\n      res.status(400).json({ mensaje: 'No existe el rol', success: false });\r\n    }\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al eliminar los datos', success: false });\r\n  }\r\n}"],"mappings":"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"}