{"version":3,"file":"company.controller.js","names":["_models","_interopRequireDefault","require","getCompanies","req","res","data","db","Company","findAll","attributes","include","status","json","mensaje","success","error","exports","createCompany","company_name","company_description","company_address","company_code","body","company","create","getCompany","findByPk","params","id","updateCompany","update","where","company_id","deleteCompany","destroy"],"sources":["../../src/controllers/company.controller.js"],"sourcesContent":["import db from '../database/models';\r\n\r\nexport const getCompanies = async (req, res) => {\r\n  try {\r\n    const data = await db.Company.findAll({\r\n      attributes: { include: ['company_name', 'company_description', 'company_address', 'company_code'] }\r\n    });\r\n    res.status(200).json({ data, mensaje: 'Operación realizada con exito', success: true });\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al consultar los datos', success: false });\r\n  }\r\n}\r\n\r\nexport const createCompany = async (req, res) => {\r\n  try {\r\n    const { company_name, company_description, company_address, company_code } = req.body;\r\n    const company = await db.Company.create({ company_name, company_description, company_address, company_code });\r\n    if (company) {\r\n      res.status(201).json({ data: company, mensaje: 'Compañia agregada con exito', success: true });\r\n    } else {\r\n      res.status(400).json({ mensaje: 'Ocurrio un error al crear la compañia', success: false });\r\n    }\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al crear la compañia', success: false });\r\n  }\r\n}\r\n\r\nexport const getCompany = async (req, res) => {\r\n  try {\r\n    const company = await db.Company.findByPk(req.params.id, {\r\n      attributes: { include: ['company_name', 'company_description', 'company_address', 'company_code'] }\r\n    });\r\n    if (company) {\r\n      res.status(200).json({ data: company, mensaje: 'Operación realizada con exito', success: true });\r\n    } else {\r\n      res.status(400).json({ mensaje: 'Compañia no encontrada', success: false });\r\n    }\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al consultar los datos', success: false });\r\n  }\r\n}\r\n\r\nexport const updateCompany = async (req, res) => {\r\n  try {\r\n    const company = await db.Company.update(req.body, { where: { company_id: req.params.id } });\r\n    if (company[0]) {\r\n      res.status(200).json({ mensaje: 'Compañia actualizada con exito', success: true });\r\n    } else {\r\n      res.status(400).json({ mensaje: 'No existe la compañia', success: false });\r\n    }\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al actualizar los datos', success: false });\r\n  }\r\n}\r\n\r\nexport const deleteCompany = async (req, res) => {\r\n  try {\r\n    const company = await db.Company.destroy({ where: { company_id: req.params.id } });\r\n    if (company) {\r\n      res.status(200).json({ mensaje: 'Compañia eliminada con exito', success: true });\r\n    } else {\r\n      res.status(400).json({ mensaje: 'No existe la compañia', success: false });\r\n    }\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al eliminar los datos', success: false });\r\n  }\r\n}"],"mappings":"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"}