{"version":3,"file":"form.controller.js","names":["_models","_interopRequireDefault","require","getForms","req","res","data","db","Form","findAll","include","model","Question","status","json","mensaje","success","error","exports","createForm","user_id","form_name","form_description","form_departamento","form_type","body","form","create","getForm","findByPk","params","id","updateForm","update","where","form_id","deleteForm","destroy"],"sources":["../../src/controllers/form.controller.js"],"sourcesContent":["import db from '../database/models';\r\n\r\nexport const getForms = async (req, res) => {\r\n  try {\r\n    const data = await db.Form.findAll({\r\n      include: [{ model: db.Question }]\r\n    });\r\n    res.status(200).json({ data, mensaje: 'Operación realizada con exito', success: true });\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al consultar los datos', success: false });\r\n  }\r\n}\r\n\r\nexport const createForm = async (req, res) => {\r\n  try {\r\n    const { user_id, form_name, form_description, form_departamento, form_type } = req.body;\r\n    const form = await db.Form.create({ user_id, form_name, form_description, form_departamento, form_type });\r\n    if (form) {\r\n      res.status(201).json({ data: form, mensaje: 'Formulario agregado con exito', success: true });\r\n    } else {\r\n      res.status(400).json({ mensaje: 'Ocurrio un error al crear el formulario', success: false });\r\n    }\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al crear el formulario', success: false, error });\r\n  }\r\n}\r\n\r\nexport const getForm = async (req, res) => {\r\n  try {\r\n    const form = await db.Form.findByPk(req.params.id, {\r\n      include: [{ model: db.Question }]\r\n    });\r\n    if (form) {\r\n      res.status(200).json({ data: form, mensaje: 'Operación realizada con exito', success: true });\r\n    } else {\r\n      res.status(400).json({ mensaje: 'Formulario no encontrado', success: false });\r\n    }\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al consultar los datos', success: false });\r\n  }\r\n}\r\n\r\nexport const updateForm = async (req, res) => {\r\n  try {\r\n    const form = await db.Form.update(req.body, { where: { form_id: req.params.id } });\r\n    if (form[0]) {\r\n      res.status(200).json({ mensaje: 'Formulario actualizado con exito', success: true });\r\n    } else {\r\n      res.status(400).json({ mensaje: 'No existe el formulario', success: false });\r\n    }\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al actualizar los datos', success: false });\r\n  }\r\n}\r\n\r\nexport const deleteForm = async (req, res) => {\r\n  try {\r\n    const form = await db.Form.destroy({ where: { form_id: req.params.id } });\r\n    if (form) {\r\n      res.status(200).json({ mensaje: 'Formulario eliminado con exito', success: true });\r\n    } else {\r\n      res.status(400).json({ mensaje: 'No existe el formulario', success: false });\r\n    }\r\n  } catch (error) {\r\n    res.status(400).json({ mensaje: 'Ocurrio un error al eliminar los datos', success: false });\r\n  }\r\n}"],"mappings":";;;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEO,MAAMC,QAAQ,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAC1C,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMC,eAAE,CAACC,IAAI,CAACC,OAAO,CAAC;MACjCC,OAAO,EAAE,CAAC;QAAEC,KAAK,EAAEJ,eAAE,CAACK;MAAS,CAAC;IAClC,CAAC,CAAC;IACFP,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAER,IAAI;MAAES,OAAO,EAAE,+BAA+B;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;EACzF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdZ,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE,yCAAyC;MAAEC,OAAO,EAAE;IAAM,CAAC,CAAC;EAC9F;AACF,CAAC;AAAAE,OAAA,CAAAf,QAAA,GAAAA,QAAA;AAEM,MAAMgB,UAAU,GAAG,MAAAA,CAAOf,GAAG,EAAEC,GAAG,KAAK;EAC5C,IAAI;IACF,MAAM;MAAEe,OAAO;MAAEC,SAAS;MAAEC,gBAAgB;MAAEC,iBAAiB;MAAEC;IAAU,CAAC,GAAGpB,GAAG,CAACqB,IAAI;IACvF,MAAMC,IAAI,GAAG,MAAMnB,eAAE,CAACC,IAAI,CAACmB,MAAM,CAAC;MAAEP,OAAO;MAAEC,SAAS;MAAEC,gBAAgB;MAAEC,iBAAiB;MAAEC;IAAU,CAAC,CAAC;IACzG,IAAIE,IAAI,EAAE;MACRrB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAER,IAAI,EAAEoB,IAAI;QAAEX,OAAO,EAAE,+BAA+B;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;IAC/F,CAAC,MAAM;MACLX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,OAAO,EAAE,yCAAyC;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;IAC9F;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdZ,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE,yCAAyC;MAAEC,OAAO,EAAE,KAAK;MAAEC;IAAM,CAAC,CAAC;EACrG;AACF,CAAC;AAAAC,OAAA,CAAAC,UAAA,GAAAA,UAAA;AAEM,MAAMS,OAAO,GAAG,MAAAA,CAAOxB,GAAG,EAAEC,GAAG,KAAK;EACzC,IAAI;IACF,MAAMqB,IAAI,GAAG,MAAMnB,eAAE,CAACC,IAAI,CAACqB,QAAQ,CAACzB,GAAG,CAAC0B,MAAM,CAACC,EAAE,EAAE;MACjDrB,OAAO,EAAE,CAAC;QAAEC,KAAK,EAAEJ,eAAE,CAACK;MAAS,CAAC;IAClC,CAAC,CAAC;IACF,IAAIc,IAAI,EAAE;MACRrB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAER,IAAI,EAAEoB,IAAI;QAAEX,OAAO,EAAE,+BAA+B;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;IAC/F,CAAC,MAAM;MACLX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,OAAO,EAAE,0BAA0B;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;IAC/E;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdZ,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE,yCAAyC;MAAEC,OAAO,EAAE;IAAM,CAAC,CAAC;EAC9F;AACF,CAAC;AAAAE,OAAA,CAAAU,OAAA,GAAAA,OAAA;AAEM,MAAMI,UAAU,GAAG,MAAAA,CAAO5B,GAAG,EAAEC,GAAG,KAAK;EAC5C,IAAI;IACF,MAAMqB,IAAI,GAAG,MAAMnB,eAAE,CAACC,IAAI,CAACyB,MAAM,CAAC7B,GAAG,CAACqB,IAAI,EAAE;MAAES,KAAK,EAAE;QAAEC,OAAO,EAAE/B,GAAG,CAAC0B,MAAM,CAACC;MAAG;IAAE,CAAC,CAAC;IAClF,IAAIL,IAAI,CAAC,CAAC,CAAC,EAAE;MACXrB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,OAAO,EAAE,kCAAkC;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;IACtF,CAAC,MAAM;MACLX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,OAAO,EAAE,yBAAyB;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;IAC9E;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdZ,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE,0CAA0C;MAAEC,OAAO,EAAE;IAAM,CAAC,CAAC;EAC/F;AACF,CAAC;AAAAE,OAAA,CAAAc,UAAA,GAAAA,UAAA;AAEM,MAAMI,UAAU,GAAG,MAAAA,CAAOhC,GAAG,EAAEC,GAAG,KAAK;EAC5C,IAAI;IACF,MAAMqB,IAAI,GAAG,MAAMnB,eAAE,CAACC,IAAI,CAAC6B,OAAO,CAAC;MAAEH,KAAK,EAAE;QAAEC,OAAO,EAAE/B,GAAG,CAAC0B,MAAM,CAACC;MAAG;IAAE,CAAC,CAAC;IACzE,IAAIL,IAAI,EAAE;MACRrB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,OAAO,EAAE,gCAAgC;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;IACpF,CAAC,MAAM;MACLX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,OAAO,EAAE,yBAAyB;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;IAC9E;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdZ,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE,wCAAwC;MAAEC,OAAO,EAAE;IAAM,CAAC,CAAC;EAC7F;AACF,CAAC;AAAAE,OAAA,CAAAkB,UAAA,GAAAA,UAAA"}